<h1>Scheduling job {{jobScheduleRequest.jobName}}</h1>

    <form class="form-horizontal" name="jobScheduler" role="form" ng-submit="scheduleJob(jobScheduleRequest)" novalidate>

        <div class="form-group" ng-class="jobScheduler.schedulerName.$invalid && jobScheduler.schedulerName.$touched ? 'has-warning has-feedback' : ''">
            <label for="schedulerName" class="col-sm-3 control-label">Scheduler (Stream) Name</label>
            <div class="col-sm-9">
                <input type="text" id="schedulerName" name="schedulerName" autofocus required
                       class="form-control" placeholder="Enter a name for the schedule stream" ng-model="jobScheduleRequest.schedulerName">
                <span class="glyphicon glyphicon-warning-sign form-control-feedback" ng-show="jobScheduler.schedulerName.$invalid && jobScheduler.schedulerName.$touched"></span>
                <p class="help-block" ng-show="jobScheduler.schedulerName.$error.required && jobScheduler.schedulerName.$touched">
                    You must provide a name for the Scheduler Stream.</p>
            </div>
        </div>
        <div class="form-group">
            <label for="schedulerName" class="col-sm-3 control-label">Schedule Type</label>
            <div class="col-sm-9">
                <ul class="nav nav-tabs" role="tablist">
                  <li role="presentation" ng-class="{ active: isFixedDelay()}"><a ng-click="setFixedDelay()" role="tab">Fixed delay</a></li>
                  <li role="presentation" ng-class="{ active: isDate() }"><a       ng-click="setDate()" role="tab">Date</a></li>
                  <li role="presentation" ng-class="{ active: isCron() }"><a       ng-click="setCron()" role="tab">Cron</a></li>
                </ul>
                <div class="tab-content">
                  <div ng-show="isFixedDelay()" id="fixedDelayTab" style="padding-top: 1em">
                    <input name="fixedDelay" class="form-control" type="number" min="1" ng-required="isFixedDelay()"
                           ng-model="jobScheduleRequest.fixedDelay"
                           placeholder="in SECONDS">
                    <p class="help-block"
                       ng-show="jobScheduler.fixedDelay.$error.required && jobScheduler.fixedDelay.$touched">
                      Please provide a valid integer number.</p>
                  </div>
                  <div ng-show="isDate()" id="dateTab" style="padding-top: 1em">
                    <input name="date" class="form-control" type="datetime-local" ng-required="isDate()"
                           ng-required='jobScheduleRequest.triggerType === "date"'
                           ng-model="jobScheduleRequest.date"
                           placeholder="MM/dd/yy HH:mm:ss">
                    <p class="help-block" ng-show="isDate()">Date is interpreted using the Server Timezone.</p>
                    <p class="help-block"
                       ng-show="jobScheduler.date.$error.required && jobScheduler.date.$touched">
                       Please provide a valid date.
                    </p>
                  </div>
                  <div ng-show="isCron()" id="cronTab" style="padding-top: 1em">
                    <input name="cron" class="form-control" type="text" ng-model="jobScheduleRequest.cron" ng-required="isCron()"
                           placeholder="Cron Expression">
                    <p class="help-block" ng-show="isCron()">Cron Expressions are interpreted using the Server Timezone.</p>
                    <p class="help-block"
                       ng-show="jobScheduler.cron.$error.required && jobScheduler.cron.$touched">
                       Please provide a cron expression.
                    </p>
                  </div>
                </div>
            </div>
        </div>



        <div class="row" style="margin-top: 1em;">
          <div class="col-md-6 text-right"><button type="button" class="btn btn-default" ng-click="cancelJobSchedule()">Back</button></div>
          <div class="col-md-6 text-left"><button type="submit" class="btn btn-primary schedule-job"
          ng-disabled="jobScheduler.$invalid">Schedule Job <span class="glyphicon glyphicon-play"></span></button></div>
        </div>
    </form>

